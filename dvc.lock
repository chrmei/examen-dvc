schema: '2.0'
stages:
  validate:
    cmd: python src/data/validate_data.py
    deps:
    - path: data/raw/raw.csv
      hash: md5
      md5: 617b56af2992376d5c3e91ad80823898
      size: 333757
    - path: src/data/validate_data.py
      hash: md5
      md5: 7bf0940a49380f92273d23bb78e9cf3a
      size: 14414
    outs:
    - path: data/processed/raw_validated.csv
      hash: md5
      md5: 076ef13ee7a9bf9dd021560d1f4084c3
      size: 330716
  feature_engineering:
    cmd: python src/data/feature_engineering.py
    deps:
    - path: data/processed/raw_validated.csv
      hash: md5
      md5: 076ef13ee7a9bf9dd021560d1f4084c3
      size: 330716
    - path: src/data/feature_engineering.py
      hash: md5
      md5: b6c01d01b30a107fad66f0b0a36d2867
      size: 6021
    outs:
    - path: data/processed/raw_engineered.csv
      hash: md5
      md5: 05dc3fa3da0b1d7bba104d6268e17a24
      size: 465763
  split:
    cmd: python src/data/data_split.py
    deps:
    - path: data/processed/raw_engineered.csv
      hash: md5
      md5: 05dc3fa3da0b1d7bba104d6268e17a24
      size: 465763
    - path: src/data/data_split.py
      hash: md5
      md5: 0886fb24391e12cbc675ea1e024d0132
      size: 5354
    outs:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 300eb652e54c9bc0f4d9995b40483c3c
      size: 79071
    - path: data/processed/X_train.csv
      hash: md5
      md5: 812bf20c36afe936cdf23249dada43e4
      size: 314992
    - path: data/processed/y_test.csv
      hash: md5
      md5: 4d011a3a33e2e945a6496789bbe57f57
      size: 6819
    - path: data/processed/y_train.csv
      hash: md5
      md5: 945ee70552b1a4f5bf07fff2778945e9
      size: 27069
  normalize:
    cmd: python src/data/normalize.py
    deps:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 300eb652e54c9bc0f4d9995b40483c3c
      size: 79071
    - path: data/processed/X_train.csv
      hash: md5
      md5: 812bf20c36afe936cdf23249dada43e4
      size: 314992
    - path: data/processed/y_test.csv
      hash: md5
      md5: 4d011a3a33e2e945a6496789bbe57f57
      size: 6819
    - path: data/processed/y_train.csv
      hash: md5
      md5: 945ee70552b1a4f5bf07fff2778945e9
      size: 27069
    - path: src/data/normalize.py
      hash: md5
      md5: b5c1369721ba909b66b9b6dc7496d76c
      size: 5863
    outs:
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: 2b29718f47180c02e3726cd37305f8e1
      size: 85807
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: 26cf5c165c4dbd17831819991aabbed5
      size: 342036
    - path: models/data/scaler.pkl
      hash: md5
      md5: 6e8d53e9ef6b62a5d69d055cf820422e
      size: 1351
  gridsearch:
    cmd: python src/models/grid_search.py
    deps:
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: 26cf5c165c4dbd17831819991aabbed5
      size: 342036
    - path: data/processed/y_train.csv
      hash: md5
      md5: 945ee70552b1a4f5bf07fff2778945e9
      size: 27069
    - path: src/models/grid_search.py
      hash: md5
      md5: 5936f201910b076f1136672ecdc12668
      size: 7670
    outs:
    - path: models/data/best_params.pkl
      hash: md5
      md5: 7b366bd3f95f38225687238161b1ae2c
      size: 115
    - path: models/data/grid_search_results.csv
      hash: md5
      md5: 64a6c74f8745fabd2477aff6aac16f8e
      size: 169406
  train:
    cmd: python src/models/training.py
    deps:
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: 26cf5c165c4dbd17831819991aabbed5
      size: 342036
    - path: data/processed/y_train.csv
      hash: md5
      md5: 945ee70552b1a4f5bf07fff2778945e9
      size: 27069
    - path: models/data/best_params.pkl
      hash: md5
      md5: 7b366bd3f95f38225687238161b1ae2c
      size: 115
    - path: src/models/training.py
      hash: md5
      md5: e9bde07bf62f8245da7a4be7bb1e9348
      size: 8789
    outs:
    - path: models/models/trained_model.pkl
      hash: md5
      md5: 987ed64a5c92322355cf111047a2fc05
      size: 571137
    - path: models/models/trained_model_with_history.pkl
      hash: md5
      md5: 48ab78f7bececf107ac2dc79b05ee80d
      size: 580296
  evaluate:
    cmd: python src/models/evaluate.py
    deps:
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: 2b29718f47180c02e3726cd37305f8e1
      size: 85807
    - path: data/processed/y_test.csv
      hash: md5
      md5: 4d011a3a33e2e945a6496789bbe57f57
      size: 6819
    - path: models/models/trained_model.pkl
      hash: md5
      md5: 987ed64a5c92322355cf111047a2fc05
      size: 571137
    - path: src/models/evaluate.py
      hash: md5
      md5: 05bf933210f6bbb4bd44cd0fee8f702d
      size: 13591
    outs:
    - path: data/processed/predictions.csv
      hash: md5
      md5: ad2ce0cf5747717c208d2783823ec08e
      size: 25542
    - path: metrics/learning_curve.png
      hash: md5
      md5: 7ceff02ca527ef49cf4e9576d0540635
      size: 158370
    - path: metrics/scores.json
      hash: md5
      md5: e590d0f710b41e0db3d53ce661066829
      size: 294
